
# 埋点
  采集用户行为数据，上报业务数据等到后台，用作活动复盘、商业分析、用户画像构建等。
  上报的数据应该是及时的、准确的。

# sdk

  - 特点 
  
        不同端有不同的sdk(IOS,web，小程序等)

  - 渠道

        自主开发
        第三方平台如百度统计、友盟、神策等。免费功能少不齐全、收费价格高。

## 代码埋点

  - 以图像PING的方式实现，在需要统计数据的地方利用代码植入，上报数据。


  - 优点：

        1、业务能更好的控制在何时上报埋点数据
        2、可以方便的上报多样数据，自定义属性，上传丰富的所需数据
  
  - 存在问题：
    
        1、人力成本较大，有新需求就会有新埋点。会涉及产品、数分、开发、测试等人员共同协商。
        2、更新成本较大，业务变大，不仅仅会影响业务代码，也将涉及埋点代码。每次更变也需要重新部署代码。
        3、业务代码和埋点冗杂在一起，稍又不慎，上传的数据或是缺少、不准确，更有可能代码丢失从而导致报错。



# 可视化埋点（没接触，都是看网上的）

  - 接入第三方平台，利用可视化管理界面，对可交互且交互后有效果的页面元素，直接在页面元素进行操作实现数据埋点。

  - 优点
        
        1、不入侵业务代码
        2、学习成本低
        3、流程简化

  - 缺点

        1、可视化埋点能够覆盖的功能有限，目前并不是所有的控件操作都可以通过这种方案进行定制；
        2、数据不可自定义
        3、数据不可回溯

        



# 无埋点（没接触，都是看网上的）

  - 全埋点是指开发人员集成采集SDK 后，SDK 便直接开始捕捉和监测用户在应用里的所有行为，并全部上报，不需要开发人员添加额外代码。

  - 优点

        1、数据可回溯
  
  - 缺点

        1、由于所有的控件事件都全部搜集，可能会给服务器和网络传输带来更大的负载
        2、数据不可自定义

  - 与可视化埋点的区别

        可视化埋点先通过界面配置哪些控件的操作数据需要收集

        “无埋点”则是先尽可能收集所有的控件的操作数据，然后再通过界面配置哪些数据需要在系统里面进行分析

# 后端埋点

  - 在后端采集数据，例如采集后端的日志。

  - 优点

        后端采集数据到分析系统中则是通过内网进行传输，
        这个阶段不存在安全和隐私性问题。
        同时，内网传输基本不会因为网络原因丢失数据，
        所以传输的数据可以非常真实地反应用户行为在系统中的真实体现

  - 缺点
      
        缺少用户交互行为数据，需要与前端埋码相结合



[参考资料](https://www.jianshu.com/p/745b2957449f)


一、埋点技术

代码埋点：

所谓的代码埋点就是在你需要统计数据的地方植入N行代码，统计用户的关键行为。比如你想统计首页某个banner的点击量，上报的数据可以采用KEY-VALUE形式，我们定义 KEY为「CLICK_ADD_BTN」，VALUE的值为点击的次数。当用户点击banner时，banner详情的代码会通过按钮的「回调」来触发执行，程序猿在业务代码执行完后，又加上了统计代码，把「CLICK_ADD_BTN」对应的VALUE加1，banner被统计到了一次使用。

代码埋点的优点：

使用者控制精准，可以非常精确地选择什么时候发送数据

使用者可以比较方便地设置自定义属性、自定义事件，传递比较丰富的数据到服务端。

代码埋点的缺点：

埋点代价比较大，每一个控件的埋点都需要添加相应的代码，不仅工作量大，而且限定了必须是技术人员才能完成；

更新代价比较大，每一次更新，都需要更新埋点方案，然后通过各个应用市场进行分发，而且有的用户还不一定更新，这样你就获取不到这批用户数据。

可视化埋点：

既然代码埋点代价比较大，每一个埋点都需要写代码，那就使用可视化交互手段代替写代码；既然每次代码埋点都需要更新，那就参照现在的很多手游做法，把核心代码和配置、资源分开，每次用户启动app的时候通过网络更新配置和资源。

可视化埋点优势：

可视化买点解决了代码埋点埋点代价大和更新代价大两个问题。

可视化埋点劣势：

可视化埋点能够覆盖的功能有限，目前并不是所有的控件操作都可以通过这种方案进行定制；

无埋点：

可视化埋点先通过界面配置哪些控件的操作数据需要收集；“无埋点”则是先尽可能收集所有控件的操作数据，然后再通过界面配置哪些数据需要在系统里面进行分析，“无埋点”也就是“全埋点”的意思。

无埋点的优点：

可视化埋点只能收集到你埋点以后的数据，如果你想对某个按钮进行点击分析，则只能分析增加可视化埋点以后的数据，之前的数据你收集不到，而无埋点在你部署SDK的时候数据就一直在收集。

因为无埋点对页面所有元素进行埋点，那么这个页面每个元素被点击的概率你也就知道，对点击概率比较大的元素可以进行深入分析。

无埋点的缺点：

由于无埋点方案所有的元素数据都收集，会给数据传输和服务器带来较大的压力。

二、数据埋点方式

1、公司研发在自己的产品当中注入统计代码，搭建相应的后台查询，这种代价比较大。

2、集成第三方统计的SDK，比如友盟、百度移动统计、Sensors Data、GrowingIO、Talking Data等。

三、如何进行数据埋点

1、明确目标

经常有人问我说我要获取那些数据来进行数据分析，其实这个问题不应该问别人，应该问问你自己，你是想用这个数据干什么，如果你想绘制基础的人群画像你就需要获取用户机型、网络类型、操作系统，IP地域等数据；如果你想分析每一个注册转化率，你就需要获取每一个步骤的点击次数，然后制作成漏斗，看那一步转化率出现了问题；目的不一样，获取的数据也不一样，使用的埋点技术也不一样，我们无论做什么事情都不能忘了我们的目的！

2、获取相应数据

业务不同，目的不同获取的数据也不同，这里我只说一些比较共性的数据。

2.1、产品各个渠道下载量

这个可以用第三方数据统计工具来进行，这样我们可以知道我们产品着重在那个渠道进行推广。

2.2、产品活跃状态分析

产品活跃状态监控，留存分析、流失分析、新增变化等，次日留存率、七日留存率、月留存率，尤其对于处于成长期的产品而已，这个指标很重要，如果留存率比较低，说明你的产品有问题，这个时候你就需要进行用户调研，找到流失的问题，否则大面积拉新，只能拉多少死多少，至于留存率、新增的变化这些数据，我们也可以借助第三方统计工具来进行。

2.3、事件分析

比如你想统计某个页面的Uv、PV、元素的点击量、用户停留时长、页面跳出率等数据指标，可以选择代码埋点和可视化埋点等前端埋点解决方案。当某个页面的UV很高，但是跳出率也很高，说明页面有问题，你就要好好想想页面的问题出在什么地方。

2.4、基本信息获取

基本信息获取，例如机型、网络类型、操作系统，IP地域等，绘制基础用户人群画像，这种分析出来的用户画像颗粒度比较大，如果想更精准的进行用户画像可以结合推荐系统，来获取用户的兴趣指标，以及用户操作行为等数据来进行更精准的用户画像，从而为产品运营和产品设计提供参考，可以借助第三方统计工具和自定义埋点的方式进行数据的收集。

2.5、漏斗模型

对于产品的关键路径一定要进行漏斗模型分析，比如注册路径，从用户输入注册手机号到注册成功，中间可能会有几个步骤，如果100个人注册，最后只有一个人注册成功，那么求运营同学心里的阴影面积。还有电商的购买下单路径，从浏览商品到最后下单购买成功，每一个步骤的转化率是多少，对于漏的比较多的那个步骤我们肯定要着重关注，分析原因。这个可以技术研发进行埋点，获取更精确的数据，比如下图的埋点表。

如何给app客户端进行埋点？

领导说，APP需要加一下统计，你负责搞定

研发说，APP需要统计哪些地方，你列一下埋点需求

研发说，APP的数据统计SDK用哪家的？你选好了注册一下、运营说，咱们的APP都能看哪些数据？平台在哪？怎么查首页的UV？

数据分析是一个很复杂的工作，很多人在谈如何挖掘数据，做用户画像，设计数据漏斗，如何负责用户生命周期管理，但发现很多人却卡在了数据分析的第一步，那就是如何做数据埋点。

首页陈峰老师先明确下完成一个APP数据埋点的几个步骤：

注册一家统计网站

新建应用

获取KEY和SDK代码包

将埋点需求和SDK包发给研发

自定义埋点需求完善

研发开发并完成APP上线

在后台查看数据

1、注册账号

建议用公司邮箱或者公用邮箱注册，别用自己的私人邮箱和手机号码，后续一旦有交接和工作变动时会比较麻烦。

2、新建应用

登录后一般都有“新建应用”，可以选标准统计，大部分APP都选这个。游戏的app另说。

名称写自己app的名称，分类自己选1个。选错了也不影响。

平台根据情况自己选。后期我们看数据和埋点都是ios和安卓分开的，所以你如果2个端都做，就一起都选上。

描述可选，不用填。

3、获取KEY和SDK代码包

完成后可以得到2个APPKEY。分别是ios和安卓的。

这里的appkey很重要，你可以下载了给研发，也可以稍后让研发自己登录进来自己下载。

ios和安卓是分开2个独立的，后续埋点和看数据都是分开的。这个切记。

这时候，重点来了。

此时，如果我们只想看 APP的活跃用户，留存用户，下载量。用户地域分布，渠道分布，那么其实就够了。

4、将埋点需求和SDK包发给研发

你这时候，就把刚才获得的appkey和sdk包的下载地址，发给研发。或者直接把账号和密码发给研发。然后告诉研发，集成下百度移动统计的SDK包。这样发版后，就可以看到大部分数据了。

如下的数据都可以看到：


5、自定义事件完善

比如我们想看页面里面 注册 搜索按钮，顶部banner，底部 首页和 我的 2个导航条的点击量。

一个埋点事件对应1个按钮或者一个页面或者一个弹层。 你来定义。

如果埋点比较多，你也可以批量添加。批量添加的时候，您需要下载excel模板，按照要求填写好，上传进来即可。具体一看便知。

添加完成后就可以把这个列表导出或者人肉复制出来一个表格。发给研发。并附上你的原型图。做好对应关系标注。

6、研发开发并完成APP上线

完成上面几步后，研发哥哥就可以看懂进入第7步研发阶段了。

7、在后台查看数据

上线后就可以看到数据了。大部分数据一般隔天更新。

三、埋点后能看到什么数据

上面提到，按照步骤完成数据分析sdk集成和自定义事件后，就可以看到数据了。

不添加自定义事件，可以看到基础数据，添加后，可以看到更细节的按钮，页面等点击数据。

查看自定义事件埋点数据，还是进入刚才的“事件分析”页面，点击对应埋点即可看到数据。

可以筛选时间段。

除了这些外，如果你还想看 几个页面之间的转化路径和数据漏斗。那还需要添加“转化分析”。

添加转化分析后，可以看到例如: 进入首页-点击注册按钮-进入注册成功页 这几步的转化率和流失率。会自动生成一个转化分析图。当然你也可以分别看这几个页面的数据，自己去分析汇总。

进阶的方法还有把事件埋点配合转化分析、访问路径、转化漏斗等工具使用，从点到面地了解用户的使用行为、APP存在的问题。

产品核心指标一般包含：

1. 产品规模

1.1 用户数据。如新增用户、用户类型分布、活跃用户、沉默用户、启动次数、版本分析等。

1.2 业务数据。这个与具体业务有关，如问答社区的问题数，回答数，全网热度，浏览量；如对含交易平台的交易量，交易额，客单价，转化率，利润等。

2. 产品运营

2.1 流量数据。pv，uv，dau，mau，留存分析(次日留存，7日留存， 用户新鲜度), 流失分析（日周月、自然流失、回归流失），

2.2 渠道数据。渠道流量，渠道转换率，渠道评价，渠道时段详情，渠道质量（渠道活跃用户/渠道流量）等。
