#### 什么是模版

本质上是字符串，但有逻辑（v-if、v-for）等

#### 流程

template -> AST -> parse -> optimize -> generate -> render -> vnode

#### 静态节点

节点类型是 text ；
预格式化文本节点；
其他节点，符合以下特征：

没有动态绑定的
不包含 v-if , v-for, v-else 指令
不是构造中的节点（slot, component）
不是组件类型
静态节点的父节点，不是带有 v-for 指令的 template 节点
节点的属性是静态属性

#### 如何解析模板

简单说，Vue 的编译过程就是将 template 转化为 render 函数的过程。会经历以下阶段：

1. 生成 AST 树，在解析的过程中，不断触发钩子函数。
   首先解析模版，生成 AST 语法树(一种用 JavaScript 对象的形式来描述整个模板)。
   使用大量的正则表达式对模板进行解析，遇到标签、文本的时候都会执行对应的钩子进行相关处理。
2. 优化 AST。检测出不需要更改的 DOM 纯静态树。(静态节点优化)
3. 根据语法树生成渲染函数的字符串对象。
   Vue 的数据是响应式的，但其实模板中并不是所有的数据都是响应式的。有一些数据首次渲染后就不会再变化，对应的 DOM 也不会变化。那么优化过程就是深度遍历 AST 树，按照相关条件对树节点进行标记。这些被标记的节点(静态节点)我们就可以跳过对它们的比对，对运行时的模板起到很大的优化作用。
   编译的最后一步是将优化后的 AST 树转换为可执行的代码。
